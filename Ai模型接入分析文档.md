# AI 智能图书馆项目教程 - 需求分析和设计

各位小伙伴大家好，我是程序员小白条，本期项目教程给大家带来的是《智能 GPT 图书馆》。

从需求背景、需求分析、业务功能梳理、架构设计层层递进，希望能给大家不仅在技术有所帮助，更希望在文章编写上能有一定的帮助~

如果你想要解决课设 OR 毕设的论文难题，亦或是想要撰写开源项目的文章，那么这篇文章再合适不过了~

## 需求背景

随着信息技术的不断发展，现在经常会有很多地方会使用到软件管理系统进行查询、修改、删除、新增等操作。而近几年 AI 技术的发展，在各个领域都有所突破，比如：深度学习的突破、自然语言处理（NLP）的进步、计算机视觉的发展、AI 与边缘计算的结合。而 AI 的发展正好可以填补这样一种场景，试想一下，如果有人需要借阅一些书籍，但是他并不知道有哪些具体的书籍可以看，这时候可能需要人力去进行一个人工推荐，但一个人不可能阅读所有的书籍，但 AI 不一样，AI 只需要读取数据库中的书籍信息，并作数据清洗、分析之后，再根据用户的偏爱，就可以为用户**精准推荐**书籍。另外，如果图书管理员想要分析本月的一个借阅量情况，上传 Excel 文件后，AI 将会智能分析生成数据结论和可视化图表，让图书管理员能够对热点时间段调控人力和推荐热门书籍。

## 需求分析

### 目的明确

1）利用 AI 模型做到更精准地给用户推荐图书，并且减少一定的人力。

2）AI 模型充当数据分析师的功能，在线生成可视化图表，相对于 Excel 生成图表，能结合业务去分析，而不仅仅是一个图表。

3）基础的借阅书籍的增删改查功能，图书报表功能，可导出 Excel 和 PDF，支持批量导入。

### 目标用户群体

1）用户（借阅者）：用户需要注册账号，然后在线上可以进行一个图书的借阅。

2）图书馆管理员：图书报表，检查用户归还图书是否逾期等情况，发布相关公告。

3）系统管理员：负责系统分析，可视化图表查看，以及系统的增删改查管理。

### 核心功能及优先级

#### 高优先级

1）AI 图书推荐功能：用户输入自己的偏爱，AI 根据数据库书籍列表和用户偏好，给用户精准推荐书籍。

2）系统分析：可以上传某个时间段的借阅量和日期，并且输入分析目标和想要生成的图表类型，等待一段时间后，AI 将会给出分析结论和可视化图表。

#### 中优先级

1）图书查询、借阅、新增、删除功能

2）发布公告、查看公告、新增、删除功能

3）查看用户个人信息，修改密码

4）查询用户违章信息

5）用户注册、图书管理员添加

6）系统管理，Echarts 实现各种图表展示

7）书籍类型管理、书籍管理。

#### 低优先级

1）批量导入图书列表

2）全屏功能

3）爬虫批量获取图书

4）读者留言

## 功能梳理

### 图书管理

1）图书查询功能：分页构造器缓解数据过大压力，后端可设置请求数防止爬虫请求数过大，服务器负载过大。模糊查询进行字段搜索。表格均**可导出 PDF 和 EXCEL**。

2）借阅图书: 图书管理员输入借阅证号(用户)和要借的图书编号和当前的时间，点击借阅。

3）归还图书: 输入图书编号查看图书是否逾期，并且可以设置违规信息，然后选择是否归还图书。

4）借书报表: 用于查询已经借阅并归还的书籍列表，同样使用分页构造器和模糊查询字段，显示借阅证编号，图书编号，借阅日期，截止日期，归还日期，违章信息，处理人。

5）还书报表: 用于查询已经借阅但是还未归还的书籍列表，显示借阅证编号，图书编号，借阅日期，截止日期。

6）书籍管理: 可以查询当前的所有图书，显示图书编号，图书昵称，作者，图书馆，分类，位置，状态，描述。可以进行添加，修改，删除图书。利用分页构造器实现批量查询。利用模糊查询实现图书搜索功能。**利用插件实现 PDF 和 EXCEL 导出**。

7）书籍类型: 显示查询当前的所有图书类型，可以进行添加，修改，删除图书类型，利用分页构造器实现批量查询，缓解数据压力。

8）借阅信息查询: 可以查询当前已经完成借阅和归还的记录，显示借阅证号，书籍编号，借阅日期，截止日期，归还日期，违章信息，处理人。分页功能，PDF 和 EXCEL 导出。

9）借阅规则管理: 可以查询当前所有的借阅规则，显示限制借阅天数，限制本数，限制图书馆，逾期费用，可以进行添加、删除、修改操作。

### 公告和留言管理

1）查看公告: 可以查询图书管理员发布的公告列表，**文字滑动效果**。

2）发布公告: 可以查询当前发布的公告列表，并进行删除，修改，增加功能，分页构造器用于缓解数据量大的情况。

3）读者留言: 实现留言功能并以**弹幕形式**显示。

### 权限管理

1）个人信息: 可以查看个人的借阅证编号，借阅证姓名，规则编号，状态，可以修改个人账户的密码。

2）借阅证管理: 可以查询当前的所有借阅证列表，也就是用户数量，可以进行添加，修改，删除操作。同样实现分页。

3）借阅规则管理: 可以查询当前所有的借阅规则，显示限制借阅天数，限制本数，限制图书馆，逾期费用，可以进行添加、删除、修改操作。

4）图书管理员管理: 显示当前的图书管理员列表，显示账号，姓名，邮箱，可以进行添加、删除、修改操作。

### AI 模型

1）**智能推荐（新）：**用户输入自己的偏好，AI 根据数据库书籍列表和用户偏好，给用户推荐书籍。

2）系统分析：可以上传某个时间段的借阅量和日期，并且输入分析目标和想要生成的图表类型，等待一段时间后，**AI 将会给出分析结论和可视化图表**。



### AI 调用

AI 模型选择：鱼聪明、讯飞星火、阿里百炼。

鱼聪明地址：https://www.yucongming.com/

讯飞星火地址：https://xinghuo.xfyun.cn/sparkapi

阿里百炼地址：https://bailian.console.aliyun.com/

这边显示讯飞星火 AI 申请和代码替换过程。

1）打开讯飞星火地址，点击免费试用。

![img](https://cdn.nlark.com/yuque/0/2024/png/27791434/1709688659970-439b6110-83ce-4fb8-9148-eaffce43c3cf.png)

2）选择 Version 3.0 版本，点击免费试用，然后填写对应的信息，申请成功。![img](https://cdn.nlark.com/yuque/0/2024/png/27791434/1709688705380-0babec49-40a5-46a4-b2bd-a87313333829.png)

3）点击 Version 3.0模型，保存好自己的 APPID、APISecret、APIKey，注意不要泄漏！后续在 SpringBoot 项目中这三个参数将要用到！![img](https://cdn.nlark.com/yuque/0/2024/png/27791434/1709688804502-17f7e4d2-93db-4056-acc2-50d1bcbad7fc.png)

4）找到 SparkAIManager 这个类，分别修改 HostURL、appid、apiSecret、apiKey 这四个参数，这边 hostUrl 的版本改成 v3.1 即可，因为我们申请的是 3.0 版本的 AI 模型。

![img](https://cdn.nlark.com/yuque/0/2024/png/27791434/1709695431044-26c88255-a983-4bd4-a5f4-1c952117420f.png)

5）找到 AiIntelligentServiceImpl，修改里面的三个参数即可，就是上文提到的自己申请的 AI 模型的参数，注意 AI 默认是用 3.0版本，申请其他版本会造成授权错误，如果需要申请其他版本，请自己更换 hostUrl。

![img](https://cdn.nlark.com/yuque/0/2024/png/27791434/1709695600453-10377f20-4835-4856-b97e-5cdbf50fd0fc.png)

### 安全性

**注意事项**：AI 模型调用是需要花费 Token 次数的，建议有上线自己项目的小伙伴不要把剩余次数设置的过多，可能导致被恶意刷请求，Token 很快就花完了。开源项目后，不要把自己的 AI 模型三个参数暴露出去了，否则会被恶意刷次数。

### 系统集成和 API （扩展）

1）可以考虑第三方登录的接入，邮箱注册验证码等等。

2）可以考虑接入其他 AI 模型，比如腾讯混元、华为盘古、百度文艺一言、OpenAI 的 GPT 等等。

3）可以考虑数据大屏模块，因为现在还是比较简单的图表，有能力的可以考虑利用后端接口，自己绘制一个大屏，参考地址：https://gitee.com/iGaoWei/big-data-view。

## 架构设计

![](https://cdn.nlark.com/yuque/0/2024/png/27791434/1709698215992-f3e81e19-1240-4ddc-a102-b6b9a12e30ec.png)
